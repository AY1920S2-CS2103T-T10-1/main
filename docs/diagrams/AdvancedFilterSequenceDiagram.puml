@startuml
!include style.puml

box Logic LOGIC_COLOR_T1
participant LogicManager LOGIC_COLOR
participant RecipeBookParser LOGIC_COLOR
participant FilterCommandParser LOGIC_COLOR
participant RecipeMatchesKeywordsPredicate LOGIC_COLOR
participant FilterCommand LOGIC_COLOR
participant CommandResult LOGIC_COLOR
end box

box Model MODEL_COLOR_T1
participant Model MODEL_COLOR
end box

-> LogicManager: execute("filter favourites t/20 ig/Pasta")
activate LogicManager

LogicManager -> RecipeBookParser: parseCommand("filter favourites t/20 ig/Pasta")
activate RecipeBookParser

create FilterCommandParser
RecipeBookParser -> FilterCommandParser: parse("favourites t/20 ig/Pasta")
activate FilterCommandParser

create RecipeMatchesKeywordsPredicate
FilterCommandParser -> RecipeMatchesKeywordsPredicate
activate RecipeMatchesKeywordsPredicate

RecipeMatchesKeywordsPredicate --> FilterCommandParser: predicate
deactivate RecipeMatchesKeywordsPredicate

create FilterCommand
FilterCommandParser -> FilterCommand: new FilterCommand(predicate)
activate FilterCommand

FilterCommand --> FilterCommandParser: FilterCommand(predicate)
deactivate FilterCommand

FilterCommandParser --> RecipeBookParser: FilterCommand(predicate)
deactivate FilterCommandParser

RecipeBookParser --> LogicManager: FilterCommand(predicate)
deactivate RecipeBookParser

LogicManager -> FilterCommand: execute(model)
activate FilterCommand

FilterCommand -> Model: updateFilteredRecipeList(predicate)
activate Model
deactivate Model

create CommandResult
FilterCommand -> CommandResult
activate CommandResult

CommandResult --> FilterCommand: CommandResult(feedbackToUser)
deactivate CommandResult

FilterCommand --> LogicManager: CommandResult(feedbackToUser)
deactivate FilterCommand

<-- LogicManager: CommandResult(feedbackToUser)
deactivate LogicManager

@enduml